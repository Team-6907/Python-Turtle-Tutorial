# 🚀 太空陨石躲避游戏 - 详细教案

---

## 📋 课程基本信息

| 项目 | 内容 |
|------|------|
| **课程名称** | Python游戏开发：太空陨石躲避 |
| **适合年级** | 初中生（七~九年级） |
| **课程时长** | 90分钟 |
| **前置知识** | Python基础语法 |
| **教学形式** | 讲练结合、项目驱动 |

---

## 🎯 教学目标

### 知识目标
- 理解游戏循环的概念和作用
- 掌握 turtle 库的基本使用方法
- 理解事件驱动编程的思想

### 能力目标
- 能够使用 turtle 创建图形界面程序
- 能够实现简单的碰撞检测算法
- 能够使用列表管理多个游戏对象

### 情感目标
- 体验编程创造的乐趣
- 培养计算思维和问题分解能力
- 激发对游戏开发的兴趣

---

## 📚 前置知识要求与回顾策略

学生已学过以下内容，本课将**在使用时回顾**：

| 知识点 | 在本课的应用 | 回顾时机 |
|--------|--------------|----------|
| **变量** | 存储分数、游戏状态 | Step 6 计分系统 |
| **数据类型** | 整数(分数)、浮点数(速度)、布尔值(game_over) | 贯穿全程 |
| **条件判断** | 边界检测、碰撞判断 | Step 2, 4 |
| **for循环** | 批量创建陨石、遍历陨石 | Step 5 |
| **while循环** | 游戏主循环 | Step 3 |
| **函数** | 移动函数、碰撞检测函数 | Step 2, 4 |
| **列表** | 存储多个陨石对象 | Step 5 |

---

## 📁 配套文件

```
教学文件/
├── 教案.md                      ← 本文件
├── PPT/                         ← PPT文件夹（按下方指引制作）
├── step1_window_ship.py         ← Step 1 代码
├── step2_movement.py            ← Step 2 代码
├── step3_asteroid.py            ← Step 3 代码
├── step4_collision.py           ← Step 4 代码
├── step5_multiple.py            ← Step 5 代码
├── step6_score.py               ← Step 6 代码
├── step7_bonus_shooting.py      ← Bonus: 射击+平滑移动（进度快的同学）
└── meteor_final.py              ← 完整版代码
```

---

# 📖 详细教学内容

---

## 🌟 导入环节（5分钟）

### 教学目标
- 激发学习兴趣
- 明确学习目标
- 建立整体认知

### PPT 第1-3页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第1页：封面】                                          │
│                                                             │
│  标题：🚀 太空陨石躲避游戏                                    │
│  副标题：用 Python + Turtle 制作你的第一个游戏                │
│  配图：太空、飞船、陨石的卡通图                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第2页：今日目标】                                      │
│                                                             │
│  我们今天要做一个游戏：                                       │
│  • 🚀 控制飞船在太空中飞行                                    │
│  • ☄️ 躲避从天而降的陨石                                     │
│  • 🏆 坚持越久，分数越高                                      │
│                                                             │
│  配图：游戏截图（运行 meteor_final.py 截图）                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第3页：学习路径】                                      │
│                                                             │
│  我们将分6步完成：                                           │
│                                                             │
│  Step 1 → Step 2 → Step 3 → Step 4 → Step 5 → Step 6       │
│  窗口飞船  移动控制  陨石下落  碰撞检测  多颗陨石  计分系统    │
│                                                             │
│  💡 每一步都能运行看效果！                                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教师活动

1. **演示最终游戏**（2分钟）
   - 运行 `meteor_final.py`
   - 边玩边解说："用方向键控制飞船，躲避陨石，坚持越久分数越高"
   - 故意"死"一次，展示游戏结束画面

2. **引导提问**（1分钟）
   > "大家觉得做这个游戏，我们需要解决哪些问题？"

   预期学生回答：
   - 画一个飞船
   - 让飞船能动
   - 画陨石
   - 让陨石掉下来
   - 判断有没有撞到
   - 显示分数

3. **明确目标**（2分钟）
   > "非常好！你们说的就是我们今天要学的内容。我们会把大问题拆成小问题，一步步解决。"

---

## 📦 Step 1：游戏窗口与飞船（10分钟）

### 教学目标
- 学会导入和使用 turtle 库
- 理解屏幕坐标系统
- 创建第一个可视化程序

### 知识点分布
- **新知识**：turtle 库、Screen 对象、Turtle 对象
- **旧知识回顾**：import 语句

### PPT 第4-7页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第4页：认识 Turtle 库】                                │
│                                                             │
│  什么是 Turtle？                                             │
│  • Python 自带的绘图库                                       │
│  • 想象一只"小乌龟"拿着画笔                                   │
│  • 我们通过代码指挥它移动、画图                               │
│                                                             │
│  配图：小乌龟拿画笔的可爱插图                                 │
│                                                             │
│  💡 回顾：还记得 import 吗？                                  │
│  import turtle  ← 导入 turtle 库                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第5页：屏幕坐标系】                                    │
│                                                             │
│            y轴                                               │
│             ↑                                                │
│             │    (200, 150)                                  │
│             │        ●                                       │
│   ──────────┼──────────→ x轴                                │
│   (-400,0)  │(0,0)     (400,0)                              │
│             │                                                │
│             │    (0, -300)                                   │
│                                                             │
│  窗口大小：800 x 600                                         │
│  中心点是 (0, 0)                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第6页：创建窗口的代码】                                │
│                                                             │
│  import turtle                                               │
│                                                             │
│  screen = turtle.Screen()      # 创建窗口对象                │
│  screen.setup(800, 600)        # 设置窗口大小                │
│  screen.bgcolor("#1a1a2e")     # 设置背景颜色                │
│  screen.title("太空游戏")       # 设置窗口标题                │
│                                                             │
│  🎨 颜色可以用英文名或十六进制                                │
│     "black", "red", "#1a1a2e"                               │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第7页：创建飞船的代码】                                │
│                                                             │
│  player = turtle.Turtle()      # 创建一个 Turtle 对象        │
│  player.shape("triangle")      # 形状：三角形                │
│  player.color("#00d4ff")       # 颜色：青色                  │
│  player.penup()                # 抬起画笔（移动不画线）       │
│  player.setposition(0, -200)   # 设置位置                    │
│  player.setheading(90)         # 朝向：90度=向上             │
│                                                             │
│  💡 setheading 角度：0=右, 90=上, 180=左, 270=下             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教学过程

#### 1️⃣ 概念讲解（3分钟）

**教师：**
> "在我们写代码之前，先了解一下 turtle 是什么。"

展示 PPT 第4页，讲解：
- turtle 是 Python 自带的，不需要额外安装
- 名字来源于"画笔乌龟"的概念
- 我们可以用它来画图、做动画、做游戏

**回顾旧知识：**
> "还记得我们之前学的 `import` 吗？它是用来做什么的？"
>
> （等学生回答）
>
> "对，import 是导入库。我们要用 turtle，就先 `import turtle`"

展示 PPT 第5页，讲解坐标系：
> "turtle 的屏幕是一个坐标系，中心是 (0,0)。x 向右为正，y 向上为正。"

#### 2️⃣ 代码演示（3分钟）

**教师打开 `step1_window_ship.py`，逐行讲解：**

```python
# 导入库
import turtle
import random

# 创建窗口
screen = turtle.Screen()
screen.setup(800, 600)          # 宽800，高600
screen.bgcolor("#1a1a2e")       # 深蓝色背景
screen.title("太空陨石躲避游戏")
screen.tracer(0)                # 关闭自动刷新
```

> "注意 `screen.tracer(0)` 这行，它关闭了自动刷新。为什么？因为后面我们要做动画，需要自己控制刷新时机，这样更流畅。"

```python
# 创建飞船
player = turtle.Turtle()
player.shape("triangle")        # 三角形像飞船
player.color("#00d4ff")         # 青色
player.setposition(0, -200)     # 放在屏幕下方
player.setheading(90)           # 朝向上方
```

#### 3️⃣ 学生实践（4分钟）

**任务：** 打开 `step1_window_ship.py`，运行并尝试修改

**挑战：**
1. 把飞船颜色改成你喜欢的颜色
2. 把飞船位置改到屏幕中央 `(0, 0)`
3. 数一数，屏幕上有多少颗星星？

**教师巡视**，帮助遇到问题的学生

---

## 🎮 Step 2：飞船移动控制（10分钟）

### 教学目标
- 学会定义和使用函数
- 理解事件驱动编程
- 实现键盘控制

### 知识点分布
- **新知识**：键盘事件绑定、事件驱动
- **旧知识回顾**：函数定义 `def`、条件判断 `if`

### PPT 第8-11页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第8页：回顾函数】                                      │
│                                                             │
│  💡 温故知新：什么是函数？                                    │
│                                                             │
│  函数 = 一段可以重复使用的代码块                              │
│                                                             │
│  def 函数名():                                               │
│      代码...                                                 │
│                                                             │
│  例子：                                                      │
│  def say_hello():                                           │
│      print("你好！")                                         │
│                                                             │
│  say_hello()  ← 调用函数                                     │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第9页：移动飞船的思路】                                │
│                                                             │
│  问题：怎么让飞船向左移动？                                   │
│                                                             │
│  思路：                                                      │
│  1. 获取飞船当前的 x 坐标                                    │
│  2. 把 x 坐标减小（向左 = x 变小）                           │
│  3. 设置新的位置                                             │
│                                                             │
│       x-20          x                                        │
│         ←           ●                                        │
│       新位置      原位置                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第10页：移动函数代码】                                 │
│                                                             │
│  def move_left():                                           │
│      x = player.xcor()      # 获取当前x坐标                  │
│      if x > -380:           # 边界检查                       │
│          player.setx(x - 20) # 向左移动20像素                │
│                                                             │
│  🤔 思考：为什么要检查 x > -380？                             │
│     答：防止飞船飞出屏幕！                                    │
│                                                             │
│  💡 回顾：if 条件判断                                        │
│     只有条件为 True 时，才执行缩进的代码                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第11页：键盘事件绑定】                                 │
│                                                             │
│  如何让按键触发函数？                                        │
│                                                             │
│  screen.listen()                    # 开始监听               │
│  screen.onkeypress(move_left, "Left")  # 绑定左箭头          │
│                                                             │
│  原理：                                                      │
│  ┌─────────┐      ┌─────────────┐                           │
│  │ 按下 ← │ ───→ │ 调用 move_left │                         │
│  └─────────┘      └─────────────┘                           │
│                                                             │
│  这叫做"事件驱动"：程序等待事件发生，然后响应                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教学过程

#### 1️⃣ 温故知新（2分钟）

**教师：**
> "在写移动代码之前，我们先回顾一下函数。"

展示 PPT 第8页：
> "谁能告诉我，函数是什么？为什么要用函数？"

（等学生回答）

> "对，函数是可以重复使用的代码块。我们把'向左移动'这个动作封装成函数，每次按左箭头就调用它。"

#### 2️⃣ 概念讲解（3分钟）

展示 PPT 第9页，讲解移动思路：
> "飞船怎么向左移动？想象一下坐标轴，向左就是 x 变小。"

展示 PPT 第10页，讲解代码：
```python
def move_left():
    x = player.xcor()       # 获取当前x坐标
    if x > -380:            # 边界检查
        player.setx(x - 20) # 向左移动
```

**重点强调边界检查：**
> "为什么要 `if x > -380`？如果不检查会怎样？"
>
> （演示不检查的情况：飞船飞出屏幕）
>
> "所以我们要加边界检查，让飞船保持在屏幕内。"

**回顾 if 语句：**
> "这里用到了 if 条件判断。还记得吗？只有条件为 True，才执行里面的代码。"

展示 PPT 第11页，讲解事件绑定：
> "定义了函数，怎么让按键触发它？用 `screen.onkeypress()`"

#### 3️⃣ 学生实践（5分钟）

**任务：** 打开 `step2_movement.py`，运行并尝试

**挑战：**
1. 用方向键控制飞船，体验效果
2. 把移动速度从 20 改成 40，感受区别
3. 思考：如果把 `x > -380` 改成 `x > 0`，会发生什么？试试看！

---

## ☄️ Step 3：陨石创建与下落（15分钟）

### 教学目标
- 理解游戏主循环的概念
- 学会使用 random 模块
- 理解动画的本质：不断更新位置

### 知识点分布
- **新知识**：游戏循环、自定义对象属性、动画原理
- **旧知识回顾**：while 循环、random 模块

### PPT 第12-17页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第12页：游戏循环的概念】                               │
│                                                             │
│  🎮 游戏是怎么"动"起来的？                                   │
│                                                             │
│  答案：不断重复这个过程——                                    │
│                                                             │
│  ┌─────────────────────────────────────────┐                │
│  │  while True:                            │                │
│  │      1. 更新游戏状态（移动、碰撞检测）    │                │
│  │      2. 刷新画面                         │                │
│  │      3. 等待一小段时间                   │                │
│  └─────────────────────────────────────────┘                │
│                                                             │
│  这叫做"游戏主循环"，几乎所有游戏都有！                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第13页：回顾 while 循环】                              │
│                                                             │
│  💡 温故知新：while 循环                                     │
│                                                             │
│  while 条件:                                                 │
│      重复执行的代码...                                       │
│                                                             │
│  例子：                                                      │
│  count = 0                                                   │
│  while count < 5:                                           │
│      print(count)                                           │
│      count += 1                                             │
│                                                             │
│  while True: ← 无限循环，直到遇到 break                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第14页：回顾 random 模块】                             │
│                                                             │
│  💡 温故知新：random 随机数                                  │
│                                                             │
│  import random                                               │
│                                                             │
│  random.randint(1, 10)     # 随机整数 1~10                   │
│  random.uniform(1.0, 5.0)  # 随机小数 1.0~5.0                │
│  random.choice([...])      # 从列表中随机选一个               │
│                                                             │
│  🎮 游戏中的用途：                                           │
│  • 陨石出现的位置随机                                        │
│  • 陨石的速度随机                                            │
│  • 陨石的颜色随机                                            │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第15页：创建陨石】                                     │
│                                                             │
│  asteroid = turtle.Turtle()                                  │
│  asteroid.shape("circle")           # 圆形                   │
│  asteroid.color("#ff6b6b")          # 红色                   │
│  asteroid.penup()                                            │
│                                                             │
│  # 随机位置（在屏幕顶部）                                     │
│  x = random.randint(-380, 380)                              │
│  asteroid.setposition(x, 300)                               │
│                                                             │
│  # 给陨石添加一个自定义属性：下落速度                         │
│  asteroid.dy = -3    ← 🆕 这是新知识！                       │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第16页：自定义属性】                                   │
│                                                             │
│  🆕 新知识：给对象添加自定义属性                              │
│                                                             │
│  Python 允许给对象动态添加属性：                              │
│                                                             │
│  asteroid.dy = -3      # 添加 dy 属性，值为 -3               │
│  asteroid.color_name = "red"  # 也可以存字符串               │
│                                                             │
│  之后可以这样使用：                                          │
│  speed = asteroid.dy   # 读取 dy 的值                        │
│                                                             │
│  💡 这样每个陨石都可以有自己的速度！                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第17页：让陨石动起来】                                 │
│                                                             │
│  while True:                                                 │
│      # 1. 获取当前y坐标                                      │
│      y = asteroid.ycor()                                    │
│                                                             │
│      # 2. 计算新位置（dy是负数，所以y会减小=向下）            │
│      y = y + asteroid.dy                                    │
│                                                             │
│      # 3. 设置新位置                                         │
│      asteroid.sety(y)                                       │
│                                                             │
│      # 4. 刷新画面                                           │
│      screen.update()                                        │
│                                                             │
│  动画原理：每帧更新位置，快速切换产生运动错觉                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教学过程

#### 1️⃣ 概念讲解（5分钟）

**引入游戏循环概念：**

展示 PPT 第12页：
> "大家玩游戏的时候，画面是怎么动起来的？"
>
> （等学生回答）
>
> "其实所有游戏都在做同一件事：不断重复'更新状态→刷新画面'这个过程。这叫做游戏主循环。"

**回顾 while 循环：**

展示 PPT 第13页：
> "还记得 while 循环吗？`while True` 会一直执行下去，直到我们让它停。"

**回顾 random 模块：**

展示 PPT 第14页：
> "陨石出现的位置要随机，我们用 random 模块。还记得怎么生成随机数吗？"

#### 2️⃣ 代码演示（5分钟）

展示 PPT 第15-16页，讲解创建陨石：

```python
asteroid = turtle.Turtle()
asteroid.setposition(random.randint(-380, 380), 300)
asteroid.dy = -3  # 自定义属性！
```

**重点讲解自定义属性：**
> "注意 `asteroid.dy = -3` 这行。我们给陨石对象添加了一个叫 `dy` 的属性。"
>
> "为什么要这样？因为每颗陨石可能速度不同，把速度存在对象上，方便管理。"

展示 PPT 第17页，讲解动画原理：

```python
while True:
    y = asteroid.ycor()      # 获取当前位置
    y = y + asteroid.dy      # 计算新位置
    asteroid.sety(y)         # 设置新位置
    screen.update()          # 刷新画面
```

> "动画的本质是什么？就是不断更新位置，然后刷新画面。因为刷新很快，人眼看起来就像在移动。"

#### 3️⃣ 学生实践（5分钟）

**任务：** 打开 `step3_asteroid.py`，运行观察

**挑战：**
1. 修改 `asteroid.dy = -3`，改成 -5 或 -1，观察速度变化
2. 思考：为什么 dy 是负数？（答：y 向下是减小的）
3. 试着修改陨石的颜色和大小

---

## 💥 Step 4：碰撞检测（15分钟）

### 教学目标
- 理解碰撞检测的原理
- 学会使用距离计算
- 实现游戏状态管理

### 知识点分布
- **新知识**：distance() 方法、游戏状态管理
- **旧知识回顾**：函数返回值、布尔值

### PPT 第18-22页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第18页：碰撞检测是什么】                               │
│                                                             │
│  🤔 怎么判断飞船撞到陨石了？                                  │
│                                                             │
│  思路：计算两者之间的距离                                     │
│  如果距离很小（比如小于25像素），就认为碰撞了                 │
│                                                             │
│       ┌───┐                                                 │
│       │ ☄️ │                                                │
│       └───┘                                                 │
│         │                                                   │
│         │ 距离 < 25？→ 碰撞！                                │
│         │                                                   │
│       ┌───┐                                                 │
│       │ 🚀 │                                                │
│       └───┘                                                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第19页：distance() 方法】                             │
│                                                             │
│  Turtle 对象自带距离计算方法：                               │
│                                                             │
│  player.distance(asteroid)                                  │
│                                                             │
│  返回：player 和 asteroid 之间的距离（像素）                 │
│                                                             │
│  例子：                                                      │
│  player 在 (0, 0)                                           │
│  asteroid 在 (30, 40)                                       │
│  距离 = √(30² + 40²) = 50 像素                              │
│                                                             │
│  💡 这用到了勾股定理！数学在游戏中的应用                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第20页：回顾函数返回值】                               │
│                                                             │
│  💡 温故知新：函数的返回值                                   │
│                                                             │
│  def add(a, b):                                             │
│      return a + b    ← return 返回结果                       │
│                                                             │
│  result = add(3, 5)  # result = 8                           │
│                                                             │
│  碰撞检测函数：                                              │
│  def check_collision():                                     │
│      if player.distance(asteroid) < 25:                     │
│          return True    ← 碰撞了，返回 True                  │
│      return False       ← 没碰撞，返回 False                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第21页：游戏状态管理】                                 │
│                                                             │
│  用变量记录游戏状态：                                        │
│                                                             │
│  game_over = False    ← 游戏进行中                          │
│                                                             │
│  while not game_over:  ← 只要没结束就继续                    │
│      ...                                                    │
│      if check_collision():                                  │
│          game_over = True  ← 碰撞了，游戏结束                │
│                                                             │
│  💡 回顾布尔值：True / False                                 │
│     not True = False                                        │
│     not False = True                                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第22页：完整碰撞检测代码】                             │
│                                                             │
│  def check_collision():                                     │
│      if player.distance(asteroid) < 25:                     │
│          return True                                        │
│      return False                                           │
│                                                             │
│  game_over = False                                          │
│                                                             │
│  while not game_over:                                       │
│      move_asteroid()                                        │
│                                                             │
│      if check_collision():     # 检测碰撞                   │
│          game_over = True      # 结束游戏                   │
│          show_game_over()      # 显示结束画面               │
│                                                             │
│      screen.update()                                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教学过程

#### 1️⃣ 概念讲解（5分钟）

**引入碰撞检测：**

展示 PPT 第18页：
> "现在陨石会掉下来了，但飞船碰到陨石没有任何反应。我们怎么判断'碰到了'？"
>
> "最简单的方法：计算两者之间的距离。如果距离很小，就认为碰撞了。"

展示 PPT 第19页，讲解 distance()：
> "好消息是，turtle 已经提供了距离计算方法。`player.distance(asteroid)` 就能得到两者的距离。"
>
> "有没有同学知道这个距离是怎么算的？"
>
> （引导学生想到勾股定理）
>
> "对！就是勾股定理。看，数学在游戏里也有用！"

**回顾函数返回值和布尔值：**

展示 PPT 第20-21页：
> "碰撞检测函数返回 True 或 False，表示有没有碰撞。"
>
> "我们用一个变量 `game_over` 记录游戏状态。`while not game_over` 的意思是'只要游戏没结束就继续'。"

#### 2️⃣ 代码演示（5分钟）

展示 PPT 第22页，完整演示代码逻辑：

```python
def check_collision():
    if player.distance(asteroid) < 25:
        return True
    return False

game_over = False
while not game_over:
    # ... 移动陨石 ...
    if check_collision():
        game_over = True
        show_game_over()
```

> "注意这里的逻辑：每一帧都检测碰撞，一旦碰撞，把 game_over 设为 True，循环就结束了。"

#### 3️⃣ 学生实践（5分钟）

**任务：** 打开 `step4_collision.py`，运行并尝试被陨石撞到

**挑战：**
1. 把碰撞距离从 25 改成 50，体验"更容易被撞到"
2. 把碰撞距离改成 10，体验"更难被撞到"
3. 思考：为什么用 25 作为碰撞距离？（提示：飞船和陨石都有大小）

---

## 🌟 Step 5：多颗陨石（15分钟）

### 教学目标
- 理解为什么需要列表
- 学会用列表存储多个对象
- 学会用 for 循环批量操作

### 知识点分布
- **新知识**：对象池模式、批量管理
- **旧知识回顾**：列表、for 循环、append()

### PPT 第23-28页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第23页：为什么需要列表】                               │
│                                                             │
│  现在只有 1 颗陨石，太简单了！                                │
│  我们想要 5 颗、10 颗、甚至更多...                           │
│                                                             │
│  ❌ 不好的方法：                                             │
│  asteroid1 = turtle.Turtle()                                │
│  asteroid2 = turtle.Turtle()                                │
│  asteroid3 = turtle.Turtle()                                │
│  ...（如果要100颗呢？写100行？）                             │
│                                                             │
│  ✅ 好的方法：用列表！                                       │
│  asteroids = []  ← 一个列表存放所有陨石                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第24页：回顾列表】                                     │
│                                                             │
│  💡 温故知新：列表 (List)                                    │
│                                                             │
│  创建列表：                                                  │
│  numbers = [1, 2, 3, 4, 5]                                  │
│  names = ["小明", "小红", "小刚"]                            │
│  empty = []  ← 空列表                                        │
│                                                             │
│  添加元素：                                                  │
│  numbers.append(6)  # [1, 2, 3, 4, 5, 6]                    │
│                                                             │
│  获取长度：                                                  │
│  len(numbers)  # 6                                          │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第25页：回顾 for 循环】                                │
│                                                             │
│  💡 温故知新：for 循环                                       │
│                                                             │
│  遍历列表：                                                  │
│  for item in my_list:                                       │
│      print(item)                                            │
│                                                             │
│  重复N次：                                                   │
│  for i in range(5):    # 重复5次                            │
│      print(i)          # 输出 0,1,2,3,4                     │
│                                                             │
│  for _ in range(5):    # _ 表示"我不需要这个变量"            │
│      do_something()                                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第26页：批量创建陨石】                                 │
│                                                             │
│  asteroids = []   # 空列表，准备存放陨石                     │
│                                                             │
│  def create_asteroid():                                     │
│      asteroid = turtle.Turtle()                             │
│      asteroid.shape("circle")                               │
│      asteroid.color("#ff6b6b")                              │
│      asteroid.setposition(...)                              │
│      asteroid.dy = random.uniform(-2, -4)                   │
│      asteroids.append(asteroid)   # 添加到列表              │
│                                                             │
│  # 创建5颗陨石                                               │
│  for _ in range(5):                                         │
│      create_asteroid()                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第27页：批量移动陨石】                                 │
│                                                             │
│  def move_asteroids():                                      │
│      for asteroid in asteroids:   # 遍历每一颗              │
│          y = asteroid.ycor()                                │
│          y = y + asteroid.dy                                │
│          asteroid.sety(y)                                   │
│                                                             │
│          if y < -300:             # 超出屏幕                │
│              # 重置位置                                      │
│              asteroid.setposition(...)                      │
│                                                             │
│  💡 for 循环让我们用相同的代码处理所有陨石                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第28页：修改碰撞检测】                                 │
│                                                             │
│  之前（1颗陨石）：                                           │
│  def check_collision():                                     │
│      if player.distance(asteroid) < 25:                     │
│          return True                                        │
│      return False                                           │
│                                                             │
│  现在（多颗陨石）：                                          │
│  def check_collision():                                     │
│      for asteroid in asteroids:    # 检查每一颗             │
│          if player.distance(asteroid) < 25:                 │
│              return True                                    │
│      return False                                           │
│                                                             │
│  碰到任何一颗都算碰撞！                                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教学过程

#### 1️⃣ 概念引入（3分钟）

展示 PPT 第23页：
> "现在游戏太简单了，只有一颗陨石。如果我们想要10颗、100颗呢？"
>
> "如果每颗都写一个变量 `asteroid1, asteroid2, ...`，那代码会很长很乱。"
>
> "这时候就需要列表！用一个列表存放所有陨石。"

#### 2️⃣ 温故知新（4分钟）

展示 PPT 第24-25页，回顾列表和 for 循环：
> "还记得列表吗？可以存放多个元素，用 `append()` 添加。"
>
> "还记得 for 循环吗？可以遍历列表里的每个元素。"

**互动提问：**
> "`for _ in range(5)` 这里的 `_` 是什么意思？"
>
> （等学生回答）
>
> "对，表示'我只是想执行5次，不需要用到循环变量'。"

#### 3️⃣ 代码演示（4分钟）

展示 PPT 第26-28页，演示代码：

```python
asteroids = []

def create_asteroid():
    asteroid = turtle.Turtle()
    # ... 设置属性 ...
    asteroids.append(asteroid)

for _ in range(5):
    create_asteroid()
```

> "创建函数里最后有 `asteroids.append(asteroid)`，把新创建的陨石加入列表。"

```python
def move_asteroids():
    for asteroid in asteroids:
        # 移动每一颗...
```

> "移动函数里用 for 循环，相同的代码处理所有陨石。"

#### 4️⃣ 学生实践（4分钟）

**任务：** 打开 `step5_multiple.py`，运行

**挑战：**
1. 修改 `range(5)` 为 `range(10)`，创建更多陨石
2. 观察：每颗陨石的颜色和速度是不是都不一样？
3. 思考：如果列表里有100颗陨石，for 循环要执行多少次？

---

## 🏆 Step 6：计分与难度（15分钟）

### 教学目标
- 学会使用全局变量
- 理解时间计时方法
- 实现难度递增机制

### 知识点分布
- **新知识**：global 关键字、time 模块、UI 更新
- **旧知识回顾**：变量作用域、数学运算

### PPT 第29-34页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第29页：计分系统设计】                                 │
│                                                             │
│  我们想要：                                                  │
│  • 每坚持1秒，得1分                                          │
│  • 分数显示在屏幕左上角                                      │
│  • 分数越高，游戏越难（陨石越快）                            │
│                                                             │
│  需要解决的问题：                                            │
│  1. 怎么记录分数？                                           │
│  2. 怎么计时？                                               │
│  3. 怎么显示分数？                                           │
│  4. 怎么让游戏变难？                                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第30页：全局变量】                                     │
│                                                             │
│  score = 0    # 定义在函数外部 = 全局变量                    │
│                                                             │
│  def update_score():                                        │
│      global score    # ← 必须声明要使用全局变量              │
│      score += 1      # 修改全局变量                          │
│                                                             │
│  ⚠️ 为什么要 global？                                        │
│  因为函数内部默认创建局部变量                                 │
│  不加 global，score += 1 会报错！                            │
│                                                             │
│  💡 回顾：变量作用域                                         │
│  • 函数外定义的 = 全局变量                                   │
│  • 函数内定义的 = 局部变量                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第31页：时间计时】                                     │
│                                                             │
│  import time                                                 │
│                                                             │
│  time.time()  → 返回当前时间戳（秒）                         │
│                                                             │
│  例如：1701234567.89                                        │
│                                                             │
│  计时方法：                                                  │
│  start = time.time()        # 记录开始时间                  │
│  # ... 做一些事情 ...                                        │
│  now = time.time()          # 记录当前时间                  │
│  elapsed = now - start      # 经过的时间                    │
│                                                             │
│  if elapsed >= 1:           # 过了1秒                       │
│      # 加分！                                                │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第32页：显示分数】                                     │
│                                                             │
│  # 创建一个专门显示文字的 Turtle                             │
│  score_display = turtle.Turtle()                            │
│  score_display.hideturtle()   # 隐藏乌龟图标                 │
│  score_display.penup()                                       │
│  score_display.color("white")                               │
│  score_display.setposition(-380, 260)                       │
│                                                             │
│  # 显示文字                                                  │
│  score_display.write(f"分数: {score}", font=("Arial", 16))  │
│                                                             │
│  # 更新时先清除再重写                                        │
│  score_display.clear()                                      │
│  score_display.write(f"分数: {score}", ...)                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第33页：难度递增】                                     │
│                                                             │
│  想法：分数越高，陨石下落越快                                 │
│                                                             │
│  difficulty = 1 + (score // 10) * 0.2                       │
│                                                             │
│  score = 0~9   → difficulty = 1.0                           │
│  score = 10~19 → difficulty = 1.2                           │
│  score = 20~29 → difficulty = 1.4                           │
│  ...                                                        │
│                                                             │
│  移动时乘以难度系数：                                        │
│  y = y + asteroid.dy * difficulty                           │
│                                                             │
│  💡 // 是整除，score // 10 得到"十位数"                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第34页：完整计分代码】                                 │
│                                                             │
│  score = 0                                                   │
│  last_score_time = time.time()                              │
│                                                             │
│  def update_score():                                        │
│      global score, last_score_time                          │
│                                                             │
│      now = time.time()                                      │
│      if now - last_score_time >= 1:   # 过了1秒             │
│          score += 1                                         │
│          last_score_time = now        # 重置计时            │
│                                                             │
│          score_display.clear()                              │
│          score_display.write(f"分数: {score}", ...)         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教学过程

#### 1️⃣ 需求分析（2分钟）

展示 PPT 第29页：
> "游戏基本完成了，但还缺什么？"
>
> （等学生回答：分数）
>
> "对！我们要加计分系统。设计是：每坚持1秒得1分，分数越高游戏越难。"

#### 2️⃣ 概念讲解（6分钟）

**全局变量：**

展示 PPT 第30页：
> "分数要在整个游戏中使用，所以定义为全局变量。"
>
> "但是注意：函数里要修改全局变量，必须先写 `global score`。否则会报错！"
>
> "还记得变量作用域吗？函数内定义的是局部变量，只在函数内有效。"

**时间计时：**

展示 PPT 第31页：
> "`time.time()` 返回当前时间戳，是一个很大的数字，表示从1970年到现在的秒数。"
>
> "我们不关心具体数字，只关心两次调用的差值。差值大于1，说明过了1秒。"

**难度递增：**

展示 PPT 第33页：
> "`score // 10` 是整除，得到十位数字。0-9分是0，10-19分是1，以此类推。"
>
> "难度系数乘到速度上，分数越高，陨石越快。"

#### 3️⃣ 代码演示（3分钟）

展示 PPT 第32、34页，演示代码

#### 4️⃣ 学生实践（4分钟）

**任务：** 打开 `step6_score.py`，运行完整游戏

**挑战：**
1. 试着玩到10分以上，感受难度变化
2. 修改难度公式 `* 0.2` 为 `* 0.5`，体验更快的难度增长
3. 把得分速度从1秒1分改成0.5秒1分

---

## 🎉 总结环节（5分钟）

### PPT 第35-37页

```
┌─────────────────────────────────────────────────────────────┐
│  【PPT 第35页：今日回顾】                                     │
│                                                             │
│  我们今天学了什么？                                          │
│                                                             │
│  ✅ turtle 库创建图形界面                                    │
│  ✅ 键盘事件控制                                             │
│  ✅ 游戏主循环                                               │
│  ✅ 碰撞检测                                                 │
│  ✅ 用列表管理多个对象                                       │
│  ✅ 计分与难度系统                                           │
│                                                             │
│  🎮 完成了一个完整的游戏！                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第36页：知识串联】                                     │
│                                                             │
│  回顾我们用到的 Python 知识：                                │
│                                                             │
│  │ 知识点     │ 在游戏中的应用              │                │
│  │───────────┼───────────────────────────│                │
│  │ 变量       │ score, game_over          │                │
│  │ if 判断    │ 边界检测、碰撞检测         │                │
│  │ for 循环   │ 批量创建和移动陨石         │                │
│  │ while 循环 │ 游戏主循环                 │                │
│  │ 函数       │ move_left, check_collision│                │
│  │ 列表       │ 存储多个陨石对象           │                │
│                                                             │
│  编程就是把小知识组合起来解决大问题！                         │
│                                                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  【PPT 第37页：拓展挑战】                                     │
│                                                             │
│  课后尝试（选做）：                                          │
│                                                             │
│  ⭐ 简单：                                                   │
│     • 修改飞船和陨石的颜色                                   │
│     • 调整游戏难度参数                                       │
│                                                             │
│  ⭐⭐ 中等：                                                 │
│     • 添加生命系统（3条命）                                  │
│     • 添加陨石的不同大小                                     │
│                                                             │
│  ⭐⭐⭐ Bonus 射击+平滑移动（step7_bonus_shooting.py）        │
│     • 平滑移动：速度、加速度、摩擦力、onkeyrelease           │
│     • 射击系统：冷却时间、列表切片 [:]                       │
│                                                             │
│  代码在 meteor_final.py，有注释提示！                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 教师活动

1. **知识回顾**（2分钟）
   - 展示 PPT 第35-36页
   - 快速回顾今天学的内容
   - 强调"编程就是把小知识组合解决大问题"

2. **布置拓展**（2分钟）
   - 展示 PPT 第37页
   - 介绍拓展挑战，鼓励课后尝试

3. **答疑**（1分钟）
   - 询问学生是否有问题
   - 提供课后答疑方式

---

# 📊 PPT 制作清单

共需制作 **37 页 PPT**，内容如下：

| 页码 | 内容 | 类型 |
|------|------|------|
| 1 | 封面 | 设计 |
| 2 | 今日目标 | 文字+截图 |
| 3 | 学习路径 | 流程图 |
| 4 | 认识 Turtle 库 | 概念+图 |
| 5 | 屏幕坐标系 | 图解 |
| 6 | 创建窗口代码 | 代码 |
| 7 | 创建飞船代码 | 代码 |
| 8 | 回顾函数 | 回顾+代码 |
| 9 | 移动飞船思路 | 图解 |
| 10 | 移动函数代码 | 代码 |
| 11 | 键盘事件绑定 | 概念+代码 |
| 12 | 游戏循环概念 | 概念图 |
| 13 | 回顾 while 循环 | 回顾+代码 |
| 14 | 回顾 random 模块 | 回顾+代码 |
| 15 | 创建陨石 | 代码 |
| 16 | 自定义属性 | 新知识+代码 |
| 17 | 让陨石动起来 | 代码+原理 |
| 18 | 碰撞检测概念 | 图解 |
| 19 | distance() 方法 | 代码+数学 |
| 20 | 回顾函数返回值 | 回顾+代码 |
| 21 | 游戏状态管理 | 概念+代码 |
| 22 | 完整碰撞检测代码 | 代码 |
| 23 | 为什么需要列表 | 问题引入 |
| 24 | 回顾列表 | 回顾+代码 |
| 25 | 回顾 for 循环 | 回顾+代码 |
| 26 | 批量创建陨石 | 代码 |
| 27 | 批量移动陨石 | 代码 |
| 28 | 修改碰撞检测 | 代码对比 |
| 29 | 计分系统设计 | 需求分析 |
| 30 | 全局变量 | 概念+代码 |
| 31 | 时间计时 | 代码 |
| 32 | 显示分数 | 代码 |
| 33 | 难度递增 | 公式+代码 |
| 34 | 完整计分代码 | 代码 |
| 35 | 今日回顾 | 总结 |
| 36 | 知识串联 | 表格 |
| 37 | 拓展挑战 | 作业 |

---

# 💡 教学提示

## 时间把控

| 环节 | 时间 | 弹性 |
|------|------|------|
| 导入 | 5分钟 | 可压缩到3分钟 |
| Step 1 | 10分钟 | 固定 |
| Step 2 | 10分钟 | 固定 |
| Step 3 | 15分钟 | 可压缩到12分钟 |
| Step 4 | 15分钟 | 可压缩到12分钟 |
| Step 5 | 15分钟 | 固定 |
| Step 6 | 15分钟 | 可压缩到12分钟 |
| 总结 | 5分钟 | 可压缩到3分钟 |

## 常见问题预案

| 问题 | 解决方案 |
|------|----------|
| 窗口无法关闭 | Ctrl+C 或点击窗口内部 |
| 按键没反应 | 检查 screen.listen() 和窗口焦点 |
| 飞船/陨石不显示 | 检查 tracer(0) 和 update() |
| 缩进错误 | 强调 Python 缩进规则 |
| 变量名拼写错误 | 鼓励仔细检查 |

## 差异化教学

- **进度快的学生**：提前完成可以尝试挑战任务
- **进度慢的学生**：可以直接运行完整代码，先体验再理解
- **结对编程**：鼓励互相帮助

---

# ✅ 课前准备清单

- [ ] 测试所有代码文件能正常运行
- [ ] 准备 PPT（按上方指引制作）
- [ ] 确保学生电脑安装 Python
- [ ] 准备代码文件分发方式（U盘/网络）
- [ ] 测试投影/屏幕共享
- [ ] 准备备用方案（如网络问题）

---

*祝教学顺利！🎓*
